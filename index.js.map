{"version":3,"file":"index.js","sources":["../src/js/render-funktion.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export const createGalleryCardTemplate = imgInfo => {\n  return `\n  <li class=\"gallery-card\">\n    <a href=\"${imgInfo.largeImageURL}\">\n      <img class=\"gallery-img\" src=\"${imgInfo.webformatURL}\" alt=\"${imgInfo.tags}\" />\n    </a>\n    <p>likes ${imgInfo.likes}</p>\n    <p>views ${imgInfo.views}</p>\n    <p>comments ${imgInfo.comments}</p>\n    <p>downloads ${imgInfo.downloads}</p>\n  </li>\n  `;\n};\n","export const fetchEl = query => {\n  return fetch(\n    `https://pixabay.com/api/?key=45457641-ce63f5c92c9f6494e7448790b&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`\n  ).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n};\n","import { createGalleryCardTemplate } from './js/render-funktion';\nimport { fetchEl } from './js/pixabay-api';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst formEl = document.querySelector('.js-search-form');\nconst galleryEl = document.querySelector('.js-gallery');\nconst loader = document.querySelector('.loader');\n\nconst startLoader = () => {\n  loader.classList.remove('is-hidden');\n};\nconst finishLoader = () => {\n  loader.classList.add('is-hidden');\n};\n\nconst onSearchFormEl = event => {\n  event.preventDefault();\n\n  const searchValue = formEl.elements.user_query.value;\n\n  startLoader();\n\n  fetchEl(searchValue)\n    .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.error({\n          title: 'Error',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n        });\n        galleryEl.innerHTML = '';\n        formEl.reset();\n        finishLoader();\n        return;\n      }\n\n      const galleryCardsTemplate = data.hits\n        .map(imgDetails => createGalleryCardTemplate(imgDetails))\n        .join('');\n\n      galleryEl.innerHTML = galleryCardsTemplate;\n      formEl.reset();\n      finishLoader();\n      const lightbox = new SimpleLightbox('.js-gallery a', {\n        captionsData: 'alt',\n        captionDelay: 250,\n      });\n      lightbox.refresh();\n    })\n\n    .catch(error => {\n      console.log(error);\n    });\n};\n\nformEl.addEventListener('submit', onSearchFormEl);\n"],"names":["createGalleryCardTemplate","imgInfo","fetchEl","query","response","formEl","galleryEl","loader","startLoader","finishLoader","onSearchFormEl","event","searchValue","data","iziToast","galleryCardsTemplate","imgDetails","SimpleLightbox","error"],"mappings":"6vBAAO,MAAMA,EAA4BC,GAChC;AAAA;AAAA,eAEMA,EAAQ,aAAa;AAAA,sCACEA,EAAQ,YAAY,UAAUA,EAAQ,IAAI;AAAA;AAAA,eAEjEA,EAAQ,KAAK;AAAA,eACbA,EAAQ,KAAK;AAAA,kBACVA,EAAQ,QAAQ;AAAA,mBACfA,EAAQ,SAAS;AAAA;AAAA,ICTvBC,EAAUC,GACd,MACL,qEAAqEA,CAAK,0DAC9E,EAAI,KAAKC,GAAY,CACjB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,ECAGC,EAAS,SAAS,cAAc,iBAAiB,EACjDC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAc,IAAM,CACxBD,EAAO,UAAU,OAAO,WAAW,CACrC,EACME,EAAe,IAAM,CACzBF,EAAO,UAAU,IAAI,WAAW,CAClC,EAEMG,EAAiBC,GAAS,CAC9BA,EAAM,eAAc,EAEpB,MAAMC,EAAcP,EAAO,SAAS,WAAW,MAE/CG,IAEAN,EAAQU,CAAW,EAChB,KAAKC,GAAQ,CACZ,GAAIA,EAAK,KAAK,SAAW,EAAG,CAC1BC,EAAS,MAAM,CACb,MAAO,QACP,QACE,2EACF,SAAU,UACpB,CAAS,EACDR,EAAU,UAAY,GACtBD,EAAO,MAAK,EACZI,IACA,MACD,CAED,MAAMM,EAAuBF,EAAK,KAC/B,IAAIG,GAAchB,EAA0BgB,CAAU,CAAC,EACvD,KAAK,EAAE,EAEVV,EAAU,UAAYS,EACtBV,EAAO,MAAK,EACZI,IACiB,IAAIQ,EAAe,gBAAiB,CACnD,aAAc,MACd,aAAc,GACtB,CAAO,EACQ,QAAO,CACtB,CAAK,EAEA,MAAMC,GAAS,CACd,QAAQ,IAAIA,CAAK,CACvB,CAAK,CACL,EAEAb,EAAO,iBAAiB,SAAUK,CAAc"}